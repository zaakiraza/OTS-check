import{b as le,j as u,a as g,ax as de,ar as $,r as s,at as z,as as ue,a4 as a,a9 as d,a7 as te,k as W,f as fe,u as he,o as me,ab as ke,a6 as be,c as Ce}from"./index-BK1bU2bz.js";import{t as ye,v as xe}from"./visually-hidden.style-Bfr07Aua.js";import{a as ve}from"./use-form-control-Bfrk_d33.js";const[Ke,pe]=le({name:"CheckboxGroupContext",strict:!1});function ge(c){return u.jsx(g.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...c,children:u.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function Ie(c){return u.jsx(g.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...c,children:u.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function Se(c){const{isIndeterminate:m,isChecked:n,...t}=c,k=m?Ie:ge;return n||m?u.jsx(g.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:u.jsx(k,{...t})}):null}function Pe(c={}){const m=ve(c),{isDisabled:n,isReadOnly:t,isRequired:k,isInvalid:o,id:y,onBlur:U,onFocus:q,"aria-describedby":I}=m,{defaultChecked:S,isChecked:P,isFocusable:H,onChange:O,isIndeterminate:l,name:D,value:_,tabIndex:B=void 0,"aria-label":A,"aria-labelledby":j,"aria-invalid":b,...G}=c,w=de(G,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),x=$(O),F=$(U),E=$(q),[v,T]=s.useState(!1),[C,M]=s.useState(!1),[L,X]=s.useState(!1),[R,p]=s.useState(!1);s.useEffect(()=>ye(T),[]);const f=s.useRef(null),[J,ae]=s.useState(!0),[ne,N]=s.useState(!!S),V=P!==void 0,r=V?P:ne,Q=s.useCallback(e=>{if(t||n){e.preventDefault();return}V||N(r?e.currentTarget.checked:l?!0:e.currentTarget.checked),x==null||x(e)},[t,n,r,V,l,x]);z(()=>{f.current&&(f.current.indeterminate=!!l)},[l]),ue(()=>{n&&M(!1)},[n,M]),z(()=>{const e=f.current;if(!(e!=null&&e.form))return;const i=()=>{N(!!S)};return e.form.addEventListener("reset",i),()=>{var h;return(h=e.form)==null?void 0:h.removeEventListener("reset",i)}},[]);const Y=n&&!H,Z=s.useCallback(e=>{e.key===" "&&p(!0)},[p]),ee=s.useCallback(e=>{e.key===" "&&p(!1)},[p]);z(()=>{if(!f.current)return;f.current.checked!==r&&N(f.current.checked)},[f.current]);const se=s.useCallback((e={},i=null)=>{const h=K=>{C&&K.preventDefault(),p(!0)};return{...e,ref:i,"data-active":a(R),"data-hover":a(L),"data-checked":a(r),"data-focus":a(C),"data-focus-visible":a(C&&v),"data-indeterminate":a(l),"data-disabled":a(n),"data-invalid":a(o),"data-readonly":a(t),"aria-hidden":!0,onMouseDown:d(e.onMouseDown,h),onMouseUp:d(e.onMouseUp,()=>p(!1)),onMouseEnter:d(e.onMouseEnter,()=>X(!0)),onMouseLeave:d(e.onMouseLeave,()=>X(!1))}},[R,r,n,C,v,L,l,o,t]),oe=s.useCallback((e={},i=null)=>({...e,ref:i,"data-active":a(R),"data-hover":a(L),"data-checked":a(r),"data-focus":a(C),"data-focus-visible":a(C&&v),"data-indeterminate":a(l),"data-disabled":a(n),"data-invalid":a(o),"data-readonly":a(t)}),[R,r,n,C,v,L,l,o,t]),ce=s.useCallback((e={},i=null)=>({...w,...e,ref:te(i,h=>{h&&ae(h.tagName==="LABEL")}),onClick:d(e.onClick,()=>{var h;J||((h=f.current)==null||h.click(),requestAnimationFrame(()=>{var K;(K=f.current)==null||K.focus({preventScroll:!0})}))}),"data-disabled":a(n),"data-checked":a(r),"data-invalid":a(o)}),[w,n,r,o,J]),re=s.useCallback((e={},i=null)=>({...e,ref:te(f,i),type:"checkbox",name:D,value:_,id:y,tabIndex:B,onChange:d(e.onChange,Q),onBlur:d(e.onBlur,F,()=>M(!1)),onFocus:d(e.onFocus,E,()=>M(!0)),onKeyDown:d(e.onKeyDown,Z),onKeyUp:d(e.onKeyUp,ee),required:k,checked:r,disabled:Y,readOnly:t,"aria-label":A,"aria-labelledby":j,"aria-invalid":b?!!b:o,"aria-describedby":I,"aria-disabled":n,style:xe}),[D,_,y,Q,F,E,Z,ee,k,r,Y,t,A,j,b,o,I,n,B]),ie=s.useCallback((e={},i=null)=>({...e,ref:i,onMouseDown:d(e.onMouseDown,De),"data-disabled":a(n),"data-checked":a(r),"data-invalid":a(o)}),[r,n,o]);return{state:{isInvalid:o,isFocused:C,isChecked:r,isActive:R,isHovered:L,isIndeterminate:l,isDisabled:n,isReadOnly:t,isRequired:k},getRootProps:ce,getCheckboxProps:se,getIndicatorProps:oe,getInputProps:re,getLabelProps:ie,htmlProps:w}}function De(c){c.preventDefault(),c.stopPropagation()}function Ae(c){const[m,n]=s.useState(c),[t,k]=s.useState(!1);return c!==m&&(k(!0),n(c)),t}const je={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},we={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},Ee=W({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),Le=W({from:{opacity:0},to:{opacity:1}}),Re=W({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),_e=fe(function(m,n){const t=pe(),k={...t,...m},o=he("Checkbox",k),y=me(m),{spacing:U="0.5rem",className:q,children:I,iconColor:S,iconSize:P,icon:H=u.jsx(Se,{}),isChecked:O,isDisabled:l=t==null?void 0:t.isDisabled,onChange:D,inputProps:_,...B}=y;let A=O;t!=null&&t.value&&y.value&&(A=t.value.includes(y.value));let j=D;t!=null&&t.onChange&&y.value&&(j=ke(t.onChange,D));const{state:b,getInputProps:G,getCheckboxProps:w,getLabelProps:x,getRootProps:F}=Pe({...B,isDisabled:l,isChecked:A,onChange:j}),E=Ae(b.isChecked),v=s.useMemo(()=>({animation:E?b.isIndeterminate?`${Le} 20ms linear, ${Re} 200ms linear`:`${Ee} 200ms linear`:void 0,...o.icon,...be({fontSize:P,color:S})}),[S,P,E,b.isIndeterminate,o.icon]),T=s.cloneElement(H,{__css:v,isIndeterminate:b.isIndeterminate,isChecked:b.isChecked});return u.jsxs(g.label,{__css:{...we,...o.container},className:Ce("chakra-checkbox",q),...F(),children:[u.jsx("input",{className:"chakra-checkbox__input",...G(_,n)}),u.jsx(g.span,{__css:{...je,...o.control},className:"chakra-checkbox__control",...w(),children:T}),I&&u.jsx(g.span,{className:"chakra-checkbox__label",...x(),__css:{marginStart:U,...o.label},children:I})]})});_e.displayName="Checkbox";export{_e as C};
