import{aD as y,r as p,an as h,a8 as b,aE as E,aF as x}from"./index-BK1bU2bz.js";function O(e,s={}){const{ssr:i=!0,fallback:t}=s,{getWindow:r}=y(),o=Array.isArray(e)?e:[e];let f=Array.isArray(t)?t:[t];f=f.filter(n=>n!=null);const[u,c]=p.useState(()=>o.map((n,m)=>({media:n,matches:i?!!f[m]:r().matchMedia(n).matches})));return p.useEffect(()=>{const n=r();c(o.map(a=>({media:a,matches:n.matchMedia(a).matches})));const m=o.map(a=>n.matchMedia(a)),d=a=>{c(k=>k.slice().map(l=>l.media===a.media?{...l,matches:a.matches}:l))};return m.forEach(a=>{typeof a.addListener=="function"?a.addListener(d):a.addEventListener("change",d)}),()=>{m.forEach(a=>{typeof a.removeListener=="function"?a.removeListener(d):a.removeEventListener("change",d)})}},[r]),u.map(n=>n.matches)}function A(e){var u;const s=b(e)?e:{fallback:e??"base"},t=h().__breakpoints.details.map(({minMaxQuery:c,breakpoint:n})=>({breakpoint:n,query:c.replace("@media screen and ","")})),r=t.map(c=>c.breakpoint===s.fallback),f=O(t.map(c=>c.query),{fallback:r,ssr:s.ssr}).findIndex(c=>c==!0);return((u=t[f])==null?void 0:u.breakpoint)??s.fallback}function j(e,s,i=E){let t=Object.keys(e).indexOf(s);if(t!==-1)return e[s];let r=i.indexOf(s);for(;r>=0;){const o=i[r];if(e.hasOwnProperty(o)){t=r;break}r-=1}if(t!==-1){const o=i[t];return e[o]}}function w(e,s){var u;const i=b(s)?s:{fallback:"base"},t=A(i),r=h();if(!t)return;const o=Array.from(((u=r.__breakpoints)==null?void 0:u.keys)||[]),f=Array.isArray(e)?Object.fromEntries(Object.entries(x(e,o)).map(([c,n])=>[c,n])):e;return j(f,t,o)}export{w as u};
