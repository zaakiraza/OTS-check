import{al as Vo,j as e,a as ie,c as be,b as Eo,i as Z,r as l,a7 as ge,a9 as B,am as jo,u as Uo,o as qo,an as Yo,ao as Ko,f as ze,ap as Go,t as Jo,a1 as Qo,ab as Xo,s as W,A as H,q as oo,B as p,V as _,T as g,g as A,M as qe,l as Fe,n as Ye,O as ko,p as Ke,P as Pe,ak as _o,F as J,ae as Le,K as Zo,N as es,Q as os,e as ss,H as ts}from"./index-BK1bU2bz.js";import{l as rs,m as ns,n as Ao,o as is,p as as,j as ls,q as cs,r as ds,g as ps}from"./index-Dc0t5EWh.js";import{B as us}from"./BOX-CozHWWeK.js";import{H as z}from"./h-stack-Bagx0LFm.js";import{u as hs,d as xs,e as ms,f as gs,g as fs,h as bs,i as ys,l as js,j as Me,A as Io,M as ws,a as Cs,b as vs,c as Ne}from"./menu-list-DFOGN_jR.js";import{I as fe}from"./icon-button-DbwiCQAJ.js";import{T as Te}from"./textarea-VxPfi5lR.js";import{u as Ss}from"./use-breakpoint-value-B2193brR.js";import{G as Rs}from"./grid-Cvme4LAG.js";import{A as wo,a as Co,b as vo,c as So,d as Ro}from"./accordion-panel-BuYTj46p.js";import"./use-descendant-CAm6yS_X.js";import"./use-form-control-Bfrk_d33.js";import"./form-control-Bp5uebuv.js";function Fs(s){return"current"in s}const Oo=()=>typeof window<"u";function Ps(){const s=navigator.userAgentData;return(s==null?void 0:s.platform)??navigator.platform}const Ts=s=>Oo()&&s.test(navigator.vendor),zs=s=>Oo()&&s.test(Ps()),Es=()=>zs(/mac|iphone|ipad|ipod/i),ks=()=>Es()&&Ts(/apple/i);function _s(s){const{ref:t,elements:i,enabled:r}=s,n=()=>{var c;return((c=t.current)==null?void 0:c.ownerDocument)??document};hs(n,"pointerdown",c=>{var b,w;if(!ks()||!r)return;const h=((w=(b=c.composedPath)==null?void 0:b.call(c))==null?void 0:w[0])??c.target,F=(i??[t]).some(y=>{const m=Fs(y)?y.current:y;return(m==null?void 0:m.contains(h))||m===h});n().activeElement!==h&&F&&(c.preventDefault(),h.focus())})}var We={exports:{}},He,Fo;function As(){if(Fo)return He;Fo=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return He=s,He}var Ve,Po;function Is(){if(Po)return Ve;Po=1;var s=As();function t(){}function i(){}return i.resetWarningCache=t,Ve=function(){function r(h,f,F,b,w,y){if(y!==s){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function n(){return r}var c={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:n,element:r,elementType:r,instanceOf:n,node:r,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:i,resetWarningCache:t};return c.PropTypes=c,c},Ve}var To;function Os(){return To||(To=1,We.exports=Is()()),We.exports}var Ds=Os();const C=Vo(Ds),Do=s=>{const{className:t,...i}=s,r=xs();return e.jsx(ie.hr,{"aria-orientation":"horizontal",className:be("chakra-menu__divider",t),...i,__css:r.divider})};Do.displayName="MenuDivider";const[Bs,ae]=Eo({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[$s,Ee]=Eo({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `}),ne={click:"click",hover:"hover"};function Ls(s={}){const{closeOnBlur:t=!0,closeOnEsc:i=!0,initialFocusRef:r,id:n,returnFocusOnClose:c=!0,autoFocus:h=!0,arrowSize:f,arrowShadowColor:F,trigger:b=ne.click,openDelay:w=200,closeDelay:y=200,isLazy:m,lazyBehavior:I="unmount",computePositionOnMount:O,...$}=s,{isOpen:d,onClose:v,onOpen:V,onToggle:Q}=Z(s),[U,q]=l.useState(c);l.useEffect(()=>q(c),[c]);const L=l.useRef(null),D=l.useRef(null),E=l.useRef(null),j=l.useRef(!1),ee=l.useRef(!1);d&&(ee.current=!0);const[le,ce]=l.useState(!1),[de,pe]=l.useState(!1),ye=l.useId(),ke=n??ye,[je,oe,se,te]=["popover-trigger","popover-content","popover-header","popover-body"].map(u=>`${u}-${ke}`),{referenceRef:re,getArrowProps:Y,getPopperProps:K,getArrowInnerProps:so,forceUpdate:ue}=ms({...$,enabled:d||!!O}),we=gs({isOpen:d,ref:E});_s({enabled:d,ref:D}),fs(E,{focusRef:D,visible:d,shouldFocus:U&&b===ne.click}),bs(E,{focusRef:r,visible:d,shouldFocus:h&&b===ne.click}),ys({enabled:d&&t,ref:E,handler(u){var R;const P=((R=u.composedPath)==null?void 0:R.call(u)[0])??[u.target];Re(D.current,P)||(P&&q(!jo(P)),v())}});const G=js({wasSelected:ee.current,enabled:m,mode:I,isSelected:we.present}),_e=l.useCallback((u={},P=null)=>{const R={...u,style:{...u.style,transformOrigin:Me.transformOrigin.varRef,[Me.arrowSize.var]:f?`${f}px`:void 0,[Me.arrowShadowColor.var]:F},ref:ge(E,P),children:G?u.children:null,id:oe,tabIndex:-1,role:"dialog",onKeyDown:B(u.onKeyDown,T=>{T.nativeEvent.isComposing||i&&T.key==="Escape"&&(T.preventDefault(),T.stopPropagation(),v())}),onBlur:B(u.onBlur,T=>{const N=zo(T),xe=Re(E.current,N),ve=Re(D.current,N),Se=!xe&&!ve;N&&q(!jo(N)),d&&t&&Se&&v()}),"aria-labelledby":le?se:void 0,"aria-describedby":de?te:void 0};return b===ne.hover&&(R.role="tooltip",R.onMouseEnter=B(u.onMouseEnter,()=>{j.current=!0}),R.onMouseLeave=B(u.onMouseLeave,T=>{T.nativeEvent.relatedTarget!==null&&(j.current=!1,setTimeout(()=>v(),y))})),R},[G,oe,le,se,de,te,b,i,v,d,t,y,F,f]),Ae=l.useCallback((u={},P=null)=>K({...u,style:{visibility:d?"visible":"hidden",...u.style}},P),[d,K]),Ie=l.useCallback((u,P=null)=>({...u,ref:ge(P,L,re)}),[L,re]),M=l.useRef(),he=l.useRef(),Ce=l.useCallback(u=>{L.current==null&&re(u)},[re]),Oe=l.useCallback((u={},P=null)=>{const R={...u,ref:ge(D,P,Ce),id:je,"aria-haspopup":"dialog","aria-expanded":d,"aria-controls":oe};return b===ne.click&&(R.onClick=B(u.onClick,Q)),b===ne.hover&&(R.onFocus=B(u.onFocus,()=>{M.current===void 0&&V()}),R.onBlur=B(u.onBlur,T=>{const N=zo(T),xe=!Re(E.current,N);d&&t&&xe&&v()}),R.onKeyDown=B(u.onKeyDown,T=>{T.key==="Escape"&&v()}),R.onMouseEnter=B(u.onMouseEnter,()=>{j.current=!0,M.current=window.setTimeout(()=>V(),w)}),R.onMouseLeave=B(u.onMouseLeave,()=>{j.current=!1,M.current&&(clearTimeout(M.current),M.current=void 0),he.current=window.setTimeout(()=>{j.current===!1&&v()},y)})),R},[je,d,oe,b,Ce,Q,V,t,v,w,y]);l.useEffect(()=>()=>{M.current&&clearTimeout(M.current),he.current&&clearTimeout(he.current)},[]);const De=l.useCallback((u={},P=null)=>({...u,id:se,ref:ge(P,R=>{ce(!!R)})}),[se]),Be=l.useCallback((u={},P=null)=>({...u,id:te,ref:ge(P,R=>{pe(!!R)})}),[te]);return{forceUpdate:ue,isOpen:d,onAnimationComplete:we.onComplete,onClose:v,getAnchorProps:Ie,getArrowProps:Y,getArrowInnerProps:so,getPopoverPositionerProps:Ae,getPopoverProps:_e,getTriggerProps:Oe,getHeaderProps:De,getBodyProps:Be}}function Re(s,t){return s===t||(s==null?void 0:s.contains(t))}function zo(s){const t=s.currentTarget.ownerDocument.activeElement;return s.relatedTarget??t}function Ge(s){const t=Uo("Popover",s),{children:i,...r}=qo(s),n=Yo(),c=Ls({...r,direction:n.direction});return e.jsx(Bs,{value:c,children:e.jsx($s,{value:t,children:Ko(i,{isOpen:c.isOpen,onClose:c.onClose,forceUpdate:c.forceUpdate})})})}Ge.displayName="Popover";function Ms(s){var i;const t=l.version;return typeof t!="string"||t.startsWith("18.")?s==null?void 0:s.ref:(i=s==null?void 0:s.props)==null?void 0:i.ref}const Ue=(s,t)=>t?`${s}.${t}, ${t}`:void 0;function Je(s){const{bg:t,bgColor:i,backgroundColor:r,shadow:n,boxShadow:c,shadowColor:h,...f}=s,{getArrowProps:F,getArrowInnerProps:b}=ae(),w=Ee(),y=t??i??r,m=n??c;return e.jsx(ie.div,{...F(),className:"chakra-popover__arrow-positioner",children:e.jsx(ie.div,{className:be("chakra-popover__arrow",s.className),...b(f),__css:{"--popper-arrow-shadow-color":Ue("colors",h),"--popper-arrow-bg":Ue("colors",y),"--popper-arrow-shadow":Ue("shadows",m),...w.arrow}})})}Je.displayName="PopoverArrow";const Qe=ze(function(t,i){const{getBodyProps:r}=ae(),n=Ee();return e.jsx(ie.div,{...r(t,i),className:be("chakra-popover__body",t.className),__css:n.body})});Qe.displayName="PopoverBody";const Xe=ze(function(t,i){const{onClose:r}=ae(),n=Ee();return e.jsx(Go,{size:"sm",onClick:r,className:be("chakra-popover__close-btn",t.className),__css:n.closeButton,ref:i,...t})});Xe.displayName="PopoverCloseButton";function Ns(s){if(s)return{enter:{...s.enter,visibility:"visible"},exit:{...s.exit,transitionEnd:{visibility:"hidden"}}}}const Ws={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},Hs=ie(Jo.section),Bo=ze(function(t,i){const{variants:r=Ws,...n}=t,{isOpen:c}=ae();return e.jsx(Hs,{ref:i,variants:Ns(r),initial:!1,animate:c?"enter":"exit",...n})});Bo.displayName="PopoverTransition";const Ze=ze(function(t,i){const{rootProps:r,motionProps:n,...c}=t,{getPopoverProps:h,getPopoverPositionerProps:f,onAnimationComplete:F}=ae(),b=Ee(),w=Qo({position:"relative",display:"flex",flexDirection:"column",...b.content});return e.jsx(ie.div,{...f(r),__css:b.popper,className:"chakra-popover__popper",children:e.jsx(Bo,{...n,...h(c,i),onAnimationComplete:Xo(F,c.onAnimationComplete),className:be("chakra-popover__content",t.className),__css:w})})});Ze.displayName="PopoverContent";function eo(s){const t=l.Children.only(s.children),{getTriggerProps:i}=ae();return e.jsx(e.Fragment,{children:l.cloneElement(t,i(t.props,Ms(t)))})}eo.displayName="PopoverTrigger";const Vs=async(s,t)=>{var i,r;try{return{success:!0,data:(await W.get(`${H}/lesson-comments`,{params:{parentId:s},headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data.data||[]}}catch(n){return console.error("Error fetching replies:",n),{success:!1,error:((r=(i=n.response)==null?void 0:i.data)==null?void 0:r.message)||n.message}}},Us=async(s,t,i,r)=>{var n,c;try{return{success:!0,data:(await W.post(`${H}/lesson-comments`,{lessonId:r,parentId:s,content:t},{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}})).data.data}}catch(h){return console.error("Error posting reply:",h),{success:!1,error:((c=(n=h.response)==null?void 0:n.data)==null?void 0:c.message)||h.message}}},qs=async(s,t,i)=>{var r,n;try{return{success:!0,data:(await W.put(`${H}/lesson-comments/${s}`,{content:t},{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}})).data.data}}catch(c){return console.error("Error updating reply:",c),{success:!1,error:((n=(r=c.response)==null?void 0:r.data)==null?void 0:n.message)||c.message}}},Ys=async(s,t)=>{var i,r;try{return{success:!0,data:(await W.delete(`${H}/lesson-comments/${s}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data}}catch(n){return console.error("Error deleting comment/reply:",n),{success:!1,error:((r=(i=n.response)==null?void 0:i.data)==null?void 0:r.message)||n.message}}},Ks=async(s,t,i)=>{var r,n;try{return{success:!0,data:(await W.post(`${H}/lesson-comments/${s}/report`,{reason:t},{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}})).data.data}}catch(c){return console.error("Error reporting reply:",c),{success:!1,error:((n=(r=c.response)==null?void 0:r.data)==null?void 0:n.message)||c.message}}},Gs=s=>{const t=new Date,i=new Date(s),r=Math.floor((t-i)/1e3);if(r<60)return"just now";if(r<3600){const n=Math.floor(r/60);return`${n} minute${n>1?"s":""} ago`}else if(r<86400){const n=Math.floor(r/3600);return`${n} hour${n>1?"s":""} ago`}else if(r<2592e3){const n=Math.floor(r/86400);return`${n} day${n>1?"s":""} ago`}else if(r<31536e3){const n=Math.floor(r/2592e3);return`${n} month${n>1?"s":""} ago`}else{const n=Math.floor(r/31536e3);return`${n} year${n>1?"s":""} ago`}},$o=({reply:s,token:t,onReplyUpdate:i,onReplyDelete:r,isOwner:n=!1})=>{var U,q,L,D,E;const[c,h]=l.useState(!1),[f,F]=l.useState(s.content||""),[b,w]=l.useState(!1),{isOpen:y,onOpen:m,onClose:I}=Z(),[O,$]=l.useState(""),d=oo(),v=l.useCallback(async()=>{if(!f.trim()){d({title:"Empty content",description:"Reply content cannot be empty",status:"warning",duration:3e3,isClosable:!0});return}w(!0);try{const j=await qs(s.id,f.trim(),t);j.success?(h(!1),i==null||i(j.data),d({title:"Reply updated",description:"Your reply has been updated successfully",status:"success",duration:3e3,isClosable:!0})):d({title:"Error",description:j.error||"Failed to update reply",status:"error",duration:3e3,isClosable:!0})}catch(j){console.error("Error updating reply:",j),d({title:"Error",description:"Failed to update reply",status:"error",duration:3e3,isClosable:!0})}finally{w(!1)}},[s.id,f,t,i,d]),V=l.useCallback(async()=>{if(window.confirm("Are you sure you want to delete this reply?")){w(!0);try{const j=await Ys(s.id,t);j.success?(r==null||r(s.id),d({title:"Reply deleted",description:"Your reply has been deleted successfully",status:"success",duration:3e3,isClosable:!0})):d({title:"Error",description:j.error||"Failed to delete reply",status:"error",duration:3e3,isClosable:!0})}catch(j){console.error("Error deleting reply:",j),d({title:"Error",description:"Failed to delete reply",status:"error",duration:3e3,isClosable:!0})}finally{w(!1)}}},[s.id,t,r,d]),Q=l.useCallback(async()=>{if(!O.trim()){d({title:"Report reason required",description:"Please provide a reason for reporting",status:"warning",duration:3e3,isClosable:!0});return}w(!0);try{const j=await Ks(s.id,O.trim(),t);j.success?(I(),$(""),d({title:"Reply reported",description:"Thank you for your report. We will review it shortly",status:"success",duration:3e3,isClosable:!0})):d({title:"Error",description:j.error||"Failed to report reply",status:"error",duration:3e3,isClosable:!0})}catch(j){console.error("Error reporting reply:",j),d({title:"Error",description:"Failed to report reply",status:"error",duration:3e3,isClosable:!0})}finally{w(!1)}},[s.id,O,t,I,d]);return e.jsxs(e.Fragment,{children:[e.jsx(p,{p:4,bg:"gray.50",borderRadius:"md",borderLeft:"3px solid",borderLeftColor:"teal.400",mb:3,children:e.jsxs(z,{align:"start",spacing:3,children:[e.jsx(Io,{size:"sm",src:(U=s.user)==null?void 0:U.imageUrl,name:((q=s.user)==null?void 0:q.firstName)+" "+((L=s.user)==null?void 0:L.lastName)}),e.jsxs(_,{align:"start",flex:1,spacing:2,children:[e.jsxs(z,{justify:"space-between",width:"100%",children:[e.jsxs(z,{spacing:2,children:[e.jsxs(g,{fontWeight:"semibold",fontSize:"sm",children:[(D=s.user)==null?void 0:D.firstName," ",(E=s.user)==null?void 0:E.lastName]}),e.jsx(g,{fontSize:"xs",color:"gray.500",children:Gs(new Date(s.createdAt))})]}),e.jsxs(ws,{children:[e.jsx(Cs,{as:fe,icon:e.jsx(rs,{}),size:"sm",variant:"ghost"}),e.jsxs(vs,{children:[n&&e.jsxs(e.Fragment,{children:[e.jsx(Ne,{icon:e.jsx(ns,{}),onClick:()=>h(!0),children:"Edit"}),e.jsx(Ne,{icon:e.jsx(Ao,{}),onClick:V,color:"red.500",children:"Delete"}),e.jsx(Do,{})]}),e.jsx(Ne,{icon:e.jsx(is,{}),onClick:m,children:"Report"})]})]})]}),c?e.jsxs(_,{width:"100%",spacing:2,children:[e.jsx(Te,{value:f,onChange:j=>F(j.target.value),placeholder:"Edit your reply...",size:"sm",resize:"vertical"}),e.jsxs(z,{spacing:2,children:[e.jsx(A,{size:"sm",colorScheme:"teal",onClick:v,isLoading:b,loadingText:"Updating...",children:"Update"}),e.jsx(A,{size:"sm",variant:"ghost",onClick:()=>{h(!1),F(s.content||"")},children:"Cancel"})]})]}):e.jsx(g,{fontSize:"sm",color:"gray.700",children:s.content})]})]})}),e.jsxs(qe,{isOpen:y,onClose:I,children:[e.jsx(Fe,{}),e.jsxs(Ye,{children:[e.jsx(ko,{children:"Report Reply"}),e.jsx(Ke,{}),e.jsx(Pe,{pb:6,children:e.jsxs(_,{spacing:4,children:[e.jsx(g,{fontSize:"sm",color:"gray.600",children:"Please provide a reason for reporting this reply:"}),e.jsx(Te,{value:O,onChange:j=>$(j.target.value),placeholder:"Enter report reason...",rows:3}),e.jsxs(z,{spacing:2,children:[e.jsx(A,{colorScheme:"red",onClick:Q,isLoading:b,loadingText:"Reporting...",children:"Report"}),e.jsx(A,{variant:"ghost",onClick:I,children:"Cancel"})]})]})})]})]})]})};$o.propTypes={reply:C.shape({id:C.oneOfType([C.string,C.number]).isRequired,content:C.string.isRequired,createdAt:C.string.isRequired,isLiked:C.bool,likeCount:C.number,user:C.shape({firstName:C.string,lastName:C.string,imageUrl:C.string})}).isRequired,token:C.string.isRequired,onReplyUpdate:C.func,onReplyDelete:C.func,isOwner:C.bool};const Lo=({commentId:s,token:t,lessonId:i,onReplyPosted:r,placeholder:n="Write a reply...",isExpanded:c=!1})=>{const[h,f]=l.useState(""),[F,b]=l.useState(!1),[w,y]=l.useState(c),m=oo(),I=l.useCallback(async d=>{if(d.preventDefault(),!h.trim()){m({title:"Empty reply",description:"Please enter a reply before posting",status:"warning",duration:3e3,isClosable:!0});return}if(!t){m({title:"Authentication required",description:"Please log in to post replies",status:"warning",duration:3e3,isClosable:!0});return}b(!0);try{const v=await Us(s,h.trim(),t,i);v.success?(f(""),y(!1),r==null||r(v.data),m({title:"Reply posted",description:"Your reply has been posted successfully",status:"success",duration:3e3,isClosable:!0})):m({title:"Error",description:v.error||"Failed to post reply",status:"error",duration:3e3,isClosable:!0})}catch(v){console.error("Error posting reply:",v),m({title:"Error",description:"Failed to post reply",status:"error",duration:3e3,isClosable:!0})}finally{b(!1)}},[s,h,t,r,m]),O=l.useCallback(()=>{if(!t){m({title:"Authentication required",description:"Please log in to post replies",status:"warning",duration:3e3,isClosable:!0});return}y(!0)},[t,m]),$=l.useCallback(()=>{y(!1),f("")},[]);return w?e.jsx(p,{mt:3,p:3,bg:"gray.50",borderRadius:"md",borderLeft:"3px solid",borderLeftColor:"teal.400",children:e.jsxs(_,{spacing:3,align:"stretch",children:[e.jsx(g,{fontSize:"sm",fontWeight:"medium",color:"gray.700",children:"Write a reply"}),e.jsx("form",{onSubmit:I,children:e.jsxs(_,{spacing:3,align:"stretch",children:[e.jsx(Te,{value:h,onChange:d=>f(d.target.value),placeholder:n,size:"sm",resize:"vertical",minH:"80px",maxH:"200px",_focus:{borderColor:"teal.400",boxShadow:"0 0 0 1px #38b2ac"}}),e.jsxs(z,{justify:"space-between",children:[e.jsxs(g,{fontSize:"xs",color:"gray.500",children:[h.length,"/500 characters"]}),e.jsxs(z,{spacing:2,children:[e.jsx(A,{size:"sm",variant:"ghost",onClick:$,disabled:F,children:"Cancel"}),e.jsx(A,{size:"sm",colorScheme:"teal",type:"submit",leftIcon:e.jsx(as,{}),isLoading:F,loadingText:"Posting...",disabled:!h.trim()||h.length>500,children:"Reply"})]})]})]})})]})}):e.jsx(p,{mt:2,children:e.jsx(A,{size:"sm",variant:"ghost",color:"gray.500",onClick:O,_hover:{color:"teal.500"},children:"Reply"})})};Lo.propTypes={commentId:C.oneOfType([C.string,C.number]).isRequired,token:C.string.isRequired,lessonId:C.oneOfType([C.string,C.number]).isRequired,onReplyPosted:C.func,placeholder:C.string,isExpanded:C.bool};function Js({lesson:s}){var to,ro,no,io,ao,lo,co,po,uo,ho,xo;let t=s;const i=localStorage.getItem("dashboardchapter");let r=[];try{r=i?JSON.parse(i):[]}catch{r=[]}const{getAllLessons:n,allLessons:c}=_o(),h=async o=>{await n(o),t=c},f=oo();l.useState(10),l.useState(1);const[F,b]=l.useState(!1),[w,y]=l.useState([]),[m,I]=l.useState(""),[O,$]=l.useState(!1),[d,v]=l.useState({}),[V,Q]=l.useState({}),[U,q]=l.useState(new Set),[L,D]=l.useState(null),{isOpen:E,onOpen:j,onClose:ee}=Z(),le=l.useRef(),[ce,de]=l.useState(3),[pe,ye]=l.useState(!1),{isOpen:ke,onOpen:je,onClose:oe}=Z(),{isOpen:se,onOpen:te,onClose:re}=Z();Ss({base:!0,md:!1});const Y=((to=t[0])==null?void 0:to.id)||"";(ro=t[0])==null||ro.contentUrl;const K=(no=t[0])==null?void 0:no.contentUrl,[so,ue]=l.useState(K),we=(o=!1)=>{b(!0),o?(ue(""),setTimeout(()=>{ue(K)},100)):ue(K),setTimeout(()=>{b(!1)},800)},G=localStorage.getItem("userToken"),_e=async()=>{$(!0);try{const o=`/lesson-comments/lesson/${Y}`,a=await W.get(`${H}${o}`);a.status===200?y(a.data.data):y([])}catch{y([])}finally{$(!1)}},Ae=async()=>{if(!m.trim()){f({title:"Empty comment",description:"Please enter a comment before posting.",status:"warning",duration:3e3,isClosable:!0});return}try{const o="/lesson-comments",a="/comments",x="/comment";console.log("Trying to post comment with payload:",{text:m,userId:1,lessonId:Y});const S=await W.post(`${H}${o}`,{content:m,lessonId:Y},{headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}});y([S.data.data,...w]),I(""),f({title:"Comment posted",description:"Your comment has been posted successfully.",status:"success",duration:3e3,isClosable:!0})}catch(o){f({title:"Error posting comment",description:`API Error: ${o.message}`,status:"error",duration:3e3,isClosable:!0})}},Ie=async()=>{ye(!0);try{const o=`/lessons/${Y}/ratings`,a=await W.post(`${H}${o}`,{rating:ce,userId:1,lessonId:Y});f({title:"Rating submitted",description:`Thank you for rating this lesson ${ce} stars!`,status:"success",duration:3e3,isClosable:!0})}catch(o){f({title:"Error submitting rating",description:`API Error: ${o.message}`,status:"error",duration:3e3,isClosable:!0})}finally{ye(!1)}},M=async o=>{if(!(d[o]||V[o])){Q(a=>({...a,[o]:!0}));try{const a=await Vs(o,G);a.success&&v(x=>({...x,[o]:a.data}))}catch(a){console.error("Error loading replies:",a)}finally{Q(a=>({...a,[o]:!1}))}}},he=o=>{const a=new Set(U);a.has(o)?a.delete(o):(a.add(o),M(o)),q(a)},Ce=(o,a)=>{v(x=>({...x,[o]:[...x[o]||[],a]}))},Oe=(o,a)=>{v(x=>({...x,[o]:(x[o]||[]).map(S=>S.id===a.id?a:S)}))},De=(o,a)=>{v(x=>({...x,[o]:(x[o]||[]).filter(S=>S.id!==a)}))},Be=async o=>{var a,x;try{(await W.delete(`${H}/lesson-comments/${o}`,{headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}})).status===200&&(y(k=>k.filter(X=>X.id!==o)),v(k=>{const X={...k};return delete X[o],X}),f({title:"Comment deleted",description:"Your comment has been deleted successfully.",status:"success",duration:3e3,isClosable:!0}))}catch(S){console.error("Error deleting comment:",S),f({title:"Failed to delete comment",description:((x=(a=S.response)==null?void 0:a.data)==null?void 0:x.message)||"Please try again later.",status:"error",duration:5e3,isClosable:!0})}},u=()=>{L&&(Be(L),D(null),ee())},P=o=>{D(o),j()},R=localStorage.getItem("userId");l.useEffect(()=>{we(!1),_e()},[t]);const{isOpen:T,onOpen:N,onClose:xe}=Z(),[ve,Se]=l.useState(""),Mo=o=>{try{if(!o)return"";if(o.includes("youtube.com")||o.includes("youtu.be")){let a="";return o.includes("watch?v=")?a=o.split("watch?v=")[1]:o.includes("youtu.be/")&&(a=o.split("youtu.be/")[1]),a=a.split("&")[0],`https://www.youtube.com/embed/${a}`}return o}catch(a){return console.error("Error processing video URL:",a),""}},{isOpen:No,onOpen:Wo,onClose:Ho}=Z();return e.jsxs(p,{bg:"white",mx:"auto",p:5,minHeight:"100vh",height:"auto",width:"100%",maxW:"100%",overflowY:"auto",children:[" ",e.jsxs(p,{bg:"#F49040",color:"white",p:{base:3,sm:4},borderRadius:"md",fontWeight:"bold",boxShadow:"md",mb:4,flexShrink:0,position:"relative",zIndex:10,minHeight:{base:"60px",sm:"auto"},display:"flex",alignItems:"center",justifyContent:"center",children:[e.jsxs(g,{fontSize:{base:"xl",sm:"2xl",md:"3xl"},textAlign:"center",children:["Chapter - ",(io=s[0])==null?void 0:io.title]}),e.jsxs(J,{position:"absolute",top:"50%",right:{base:"8px",sm:"15px"},transform:"translateY(-50%)",gap:{base:1,sm:3},display:{base:"flex",md:"none"},zIndex:1e3,children:[e.jsxs(Ge,{placement:"bottom-end",isOpen:ke,onClose:oe,closeOnBlur:!0,zIndex:1500,children:[e.jsx(eo,{children:e.jsx(fe,{onClick:je,"aria-label":"Switch Chapters",icon:e.jsx(ls,{size:"1.2em"}),colorScheme:"white",variant:"ghost",size:{base:"sm",sm:"md"},color:"white",_hover:{bg:"rgba(255,255,255,0.2)",border:"none"},_focus:{outline:"none",boxShadow:"none"}})}),e.jsxs(Ze,{width:{base:"250px",sm:"280px"},borderColor:"#F49040",boxShadow:"xl",bg:"white",zIndex:1500,maxW:"90vw",children:[e.jsx(Je,{}),e.jsx(Xe,{top:{base:"12px",sm:"20px"},fontSize:{base:"10px",sm:"12px"},color:"#F49040",_hover:{bg:"rgba(255,255,255,0.2)",border:"none"},_focus:{outline:"none",boxShadow:"none"}}),e.jsxs(Qe,{p:0,children:[e.jsx(p,{py:6,px:3,bg:"#F49040",color:"white",fontWeight:"bold",children:"Switch Chapters"}),e.jsx(p,{maxHeight:"300px",overflowY:"auto",p:2,children:e.jsx(_,{spacing:2,align:"stretch",children:r.map(o=>{var a,x,S,k;return e.jsxs(z,{p:2,bg:o.id===((a=t[0])==null?void 0:a.chapterId)?"#F49040":"transparent",color:o.id===((x=t[0])==null?void 0:x.chapterId)?"white":"inherit",borderRadius:"md",_hover:{bg:"#f0f0f0",color:o.id===((S=t[0])==null?void 0:S.chapterId)?"white":"inherit"},children:[e.jsx(p,{w:"20px",h:"20px",borderRadius:"sm",border:"1px solid #F8B67D",display:"flex",alignItems:"center",justifyContent:"center",mr:2,children:e.jsx(g,{fontSize:"xs",color:o.id===((k=t[0])==null?void 0:k.chapterId)?"white":"#F8B67D"})}),e.jsxs(g,{fontSize:"sm",color:"black",onClick:()=>{h(o.id)},children:["Chapter | ",o.title]})]},o.id)})})})]})]})]}),e.jsxs(Ge,{placement:"bottom-end",isOpen:se,onClose:re,closeOnBlur:!0,zIndex:1500,children:[e.jsx(eo,{children:e.jsx(fe,{onClick:te,"aria-label":"Video Topics",icon:e.jsx(cs,{size:"1.2em"}),colorScheme:"white",variant:"ghost",size:{base:"sm",sm:"md"},color:"white",_hover:{bg:"rgba(255,255,255,0.2)",border:"none"},_focus:{outline:"none",boxShadow:"none"}})}),e.jsxs(Ze,{width:{base:"250px",sm:"280px"},borderColor:"#F8B67D",boxShadow:"xl",bg:"white",zIndex:1500,maxW:"90vw",children:[e.jsx(Je,{}),e.jsx(Xe,{top:{base:"12px",sm:"20px"},fontSize:{base:"10px",sm:"12px"},color:"#F8B67D",_hover:{bg:"rgba(255,255,255,0.2)",border:"none"},_focus:{outline:"none",boxShadow:"none"}}),e.jsxs(Qe,{p:0,children:[e.jsxs(p,{py:2,px:3,bg:"#F8B67D",color:"white",fontWeight:"bold",children:["Chapter | ",(ao=t[0])==null?void 0:ao.title," Related Videos"]}),e.jsx(p,{maxHeight:"300px",overflowY:"auto",p:2,children:e.jsx(_,{spacing:2,align:"stretch",children:((co=(lo=t[0])==null?void 0:lo.videoUrls)==null?void 0:co.length)>0?t[0].videoUrls.map((o,a)=>{const x=o,S=o?`Video ${a+1}`:"No related Video Found";return e.jsxs(z,{p:2,borderRadius:"md",color:"black",onClick:()=>{x&&(Se(x),N())},_hover:{bg:"#f0f0f0"},cursor:x?"pointer":"default",children:[e.jsx(p,{w:"20px",h:"20px",borderRadius:"full",border:"1px solid #F8B67D",display:"flex",alignItems:"center",justifyContent:"center",mr:2,children:e.jsx(g,{fontSize:"xs",color:"#F8B67D",children:a+1})}),e.jsx(g,{fontSize:"sm",children:S})]},x||a)}):e.jsx(g,{fontSize:"sm",color:"gray.500",textAlign:"center",py:4,children:"No related videos available"})})})]})]})]})]})]}),e.jsxs(Rs,{templateColumns:{base:"1fr",md:"7fr 3fr"},gap:6,minHeight:"100%",children:[e.jsxs(_,{spacing:6,align:"stretch",children:[e.jsxs(p,{boxShadow:"md",bg:"white",overflow:"hidden",minH:"1000px",height:"calc(80vh - 100px)",border:"4px solid rgba(244, 144, 64, 1)",borderRadius:"24px",position:"relative",children:[e.jsx(fe,{icon:e.jsx(ds,{}),position:"absolute",top:"10px",right:"10px",zIndex:"10",colorScheme:"orange",onClick:Wo,"aria-label":"Full Screen",bg:"black",color:"white",_hover:{bg:"white",color:"#F49040",border:"2px solid #F49040"}}),e.jsx(p,{width:"100%",height:"100%",minHeight:"700px",position:"relative",children:F?e.jsxs(J,{direction:"column",align:"center",justify:"center",width:"100%",height:"100%",bg:"#f9f9f9",children:[e.jsx(Le,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"#1F6A75",size:"xl",mb:4}),e.jsx(g,{children:"Loading document..."})]}):e.jsx(p,{width:"100%",height:"100%",position:"relative",children:e.jsx("iframe",{src:K,title:(po=t[0])==null?void 0:po.title,width:"100%",height:"100%",style:{border:"none",display:"block",minHeight:"700px"},allow:"autoplay",allowFullScreen:!0})})})]}),e.jsxs(p,{border:"2px solid #F8B67D",borderRadius:"24px",overflow:"hidden",children:[e.jsx(p,{bg:"#F49040",color:"white",p:4,textAlign:"center",fontWeight:"medium",borderTopLeftRadius:"22px",borderTopRightRadius:"22px",children:e.jsx(g,{fontSize:"lg",children:"Leave a Comment"})}),e.jsxs(p,{p:4,bg:"white",children:[e.jsx(Te,{value:m,onChange:o=>I(o.target.value),py:{base:"20px",sm:"23px",md:"25px"},fontSize:{base:"12px",sm:"14px",md:"16px"},borderRadius:"12px",border:"1px solid #CED4D3",placeholder:"Write your comment here",resize:"vertical",minH:{base:"80px",sm:"100px",md:"120px"},bg:"white",color:"black",_focus:{outline:"none",boxShadow:"0px 0px 12px #F49040",border:"1px solid #F49040",bg:"white"}}),e.jsx(J,{justify:"center",mt:{base:"16px",sm:"18px",md:"24px"},children:e.jsx(A,{bg:"#F49040",color:"white",width:"50%",borderRadius:"30px",h:{base:"28px",sm:"36px",md:"42px"},fontSize:{base:"12px",sm:"14px",md:"16px"},fontWeight:"400",transition:"all 0.3s ease-in-out",_focus:{outline:"none",boxShadow:"none"},_hover:{border:"2px solid #F49040",color:"#F49040",bg:"none",boxShadow:"0px 0px 8px #F49040",fontWeight:"400"},isLoading:O,loadingText:"Posting...",onClick:Ae,children:"Post Comment"})})]}),e.jsxs(p,{p:4,bg:"white",children:[e.jsxs(J,{align:"center",mb:3,children:[e.jsx(g,{fontWeight:"medium",color:"#F49040",children:"Recent Comments"}),O&&e.jsx(Le,{size:"sm",color:"#F49040",ml:2})]}),w.length>0?w.map(o=>{var a,x,S,k,X,mo,go,fo,bo;return e.jsxs(p,{mb:4,children:[e.jsxs(z,{align:"center",mb:2,children:[e.jsx(p,{w:"40px",h:"40px",borderRadius:"full",overflow:"hidden",mr:2,display:"flex",justifyContent:"center",alignItems:"center",bg:"gray.200",children:(a=o.user)!=null&&a.imageUrl?e.jsx(Io,{src:o.user.imageUrl,name:((x=o.user)==null?void 0:x.firstName)+" "+((S=o.user)==null?void 0:S.lastName),size:"sm",width:"100%",height:"100%",borderRadius:"full"}):e.jsx(g,{textAlign:"center",lineHeight:"40px",children:((X=(k=o.user)==null?void 0:k.firstName)==null?void 0:X[0])||"?"})}),e.jsxs(p,{flex:1,children:[e.jsxs(J,{justify:"space-between",align:"center",mb:1,children:[e.jsx(g,{fontWeight:"medium",children:o.user.name}),R&&((go=(mo=o.user)==null?void 0:mo.id)==null?void 0:go.toString())===R&&e.jsx(fe,{icon:e.jsx(Ao,{}),variant:"ghost",size:"sm",color:"red.500",_hover:{color:"red.600",bg:"red.50"},onClick:()=>P(o.id),"aria-label":"Delete comment"})]}),e.jsx(g,{fontSize:"sm",color:"gray.600",mb:1,children:o.content}),e.jsx(z,{spacing:4,fontSize:"sm",color:"gray.500",mt:2,children:e.jsxs(g,{cursor:"pointer",_hover:{color:"#F49040"},onClick:()=>he(o.id),children:[U.has(o.id)?"Hide":"Show"," ","replies",((fo=d[o.id])==null?void 0:fo.length)>0&&` (${d[o.id].length})`]})})]})]}),U.has(o.id)&&e.jsxs(p,{ml:12,mt:2,children:[e.jsx(Lo,{commentId:o.id,token:G,lessonId:Y,onReplyPosted:me=>Ce(o.id,me),placeholder:"Reply to this comment..."}),V[o.id]?e.jsxs(p,{textAlign:"center",py:4,children:[e.jsx(Le,{size:"sm",color:"teal.500"}),e.jsx(g,{fontSize:"sm",color:"gray.500",mt:2,children:"Loading replies..."})]}):((bo=d[o.id])==null?void 0:bo.length)>0?e.jsx(_,{align:"stretch",spacing:2,mt:3,children:d[o.id].map(me=>{var yo;return e.jsx($o,{reply:me,token:G,onReplyUpdate:$e=>Oe(o.id,$e),onReplyDelete:$e=>De(o.id,$e),isOwner:((yo=me.user)==null?void 0:yo.id)===localStorage.getItem("userId")},me.id)})}):e.jsx(g,{fontSize:"sm",color:"gray.500",textAlign:"center",py:2,children:"No replies yet. Be the first to reply!"})]})]},o.id)}):e.jsx(g,{fontSize:"sm",color:"gray.500",textAlign:"center",py:2,children:"No comments yet. Be the first to comment!"})]})]}),e.jsxs(p,{border:"2px solid #F8B67D",borderRadius:"24px",p:6,bg:"white",mb:6,children:[e.jsx(g,{fontSize:"2xl",color:"#F49040",fontWeight:"bold",textAlign:"center",mb:4,children:"Rate This Lesson"}),e.jsx(g,{textAlign:"center",color:"gray.600",mb:6,children:"Help us improve our tool to best suit your needs by rating us here!"}),e.jsx(J,{justify:"center",mb:6,children:e.jsx(z,{spacing:2,children:[1,2,3,4,5].map(o=>e.jsx(p,{as:"button",fontSize:{base:"24px",sm:"36px",md:"42px"},color:o<=ce?"#F49040":"#CED4D3",_hover:{color:"#F49040",border:"none"},_focus:{outline:"none",boxShadow:"none"},onClick:()=>de(o),disabled:pe,children:"★"},o))})}),e.jsxs(J,{justify:"center",gap:4,children:[e.jsx(A,{bg:"none",px:{base:"18px",sm:"24px",md:"28px"},borderRadius:"30px",border:"1.5px solid #1F6A75",color:"#1F6A75",h:{base:"32px",sm:"36px",md:"42px"},fontSize:{base:"12px",sm:"14px",md:"16px"},fontWeight:"300",_focus:{outline:"none",boxShadow:"none"},_hover:{border:"none",color:"#1F6A75",bg:"#CED4D3",fontWeight:"400"},transition:"all 0.3s ease-in-out",onClick:()=>de(3),isDisabled:pe,children:"Cancel"}),e.jsx(A,{bg:"#F49040",color:"white",px:{base:"36px",sm:"42px",md:"54px"},borderRadius:"30px",h:{base:"32px",sm:"36px",md:"42px"},fontSize:{base:"12px",sm:"14px",md:"16px"},fontWeight:"300",_focus:{outline:"none",boxShadow:"none"},_hover:{border:"1.5px solid #F49040",color:"#F49040",bg:"none",boxShadow:"0px 0px 8px #F49040",fontWeight:"400"},transition:"all 0.3s ease-in-out",isLoading:pe,loadingText:"Submitting...",onClick:Ie,children:"Submit"})]})]})]}),e.jsxs(_,{spacing:4,align:"stretch",display:{base:"none",md:"flex"},children:[e.jsx(p,{bg:"#1F6A75",border:"2px solid rgba(244, 144, 64, 1)",borderRadius:"24",boxShadow:"md",overflow:"hidden",children:e.jsx(wo,{defaultIndex:[0],allowMultiple:!0,children:e.jsxs(Co,{border:"none",children:[e.jsxs(vo,{bg:"#F49040",color:"white",fontSize:{md:"16px",lg:"20px"},borderRadius:"0px",border:"none",_hover:{border:"none",bg:"#1F6A75"},_focus:{outline:"none",boxShadow:"none"},children:[e.jsx(p,{flex:"1",textAlign:"left",fontWeight:"bold",children:"Suggestion Chapters"}),e.jsx(So,{})]}),e.jsx(Ro,{pb:4,bg:"white",maxHeight:"300px",overflowY:"auto",children:e.jsx(_,{spacing:2,align:"stretch",children:r.map(o=>{var a,x,S,k;return e.jsxs(z,{p:2,bg:o.id===((a=t[0])==null?void 0:a.chapterId)?"#F49040":"transparent",color:o.id===((x=t[0])==null?void 0:x.chapterId)?"white":"inherit",borderRadius:"md",cursor:"pointer",_hover:{bg:"#f0f0f0",color:o.id===((S=t[0])==null?void 0:S.chapterId)?"black":"inherit"},children:[e.jsx(p,{w:"20px",h:"20px",borderRadius:"sm",border:"1px solid #F8B67D",display:"flex",alignItems:"center",justifyContent:"center",mr:2,children:e.jsx(g,{fontSize:"xs",color:o.id===((k=t[0])==null?void 0:k.chapterId)?"white":"#F8B67D"})}),e.jsxs(g,{fontSize:"sm",onClick:()=>{h(o.id)},children:["Chapter | ",o.title]})]},o.id)})})})]})})}),e.jsx(p,{bg:"#F8B67D",border:"2px solid rgba(244, 144, 64, 1)",borderRadius:"24",boxShadow:"md",overflow:"hidden",children:e.jsx(wo,{defaultIndex:[0],allowMultiple:!0,children:e.jsxs(Co,{border:"none",children:[e.jsxs(vo,{bg:"#F49040",color:"white",fontSize:{md:"16px",lg:"20px"},borderRadius:"0px",border:"none",_hover:{border:"none",bg:"#1F6A75"},children:[e.jsx(p,{flex:"1",textAlign:"left",fontWeight:"bold",children:"Related Videos"}),e.jsx(So,{})]}),e.jsx(Ro,{pb:4,bg:"white",maxHeight:"300px",overflowY:"auto",children:e.jsx(_,{spacing:2,align:"stretch",children:((ho=(uo=t[0])==null?void 0:uo.videoUrls)==null?void 0:ho.length)>0?t[0].videoUrls.map((o,a)=>{const x=o,S=o?`Video ${a+1}`:"No related Video Found";return e.jsxs(z,{p:2,borderRadius:"md",_hover:{bg:"#f0f0f0"},onClick:()=>{x&&(Se(x),N())},cursor:x?"pointer":"default",children:[e.jsx(p,{w:"20px",h:"20px",borderRadius:"full",border:"1px solid #F8B67D",display:"flex",alignItems:"center",justifyContent:"center",mr:2,children:e.jsx(g,{fontSize:"xs",color:"#F8B67D",children:a+1})}),e.jsx(g,{fontSize:"sm",color:x?"blue.500":"gray.500",isTruncated:!0,whiteSpace:"normal",wordBreak:"break-word",children:S})]},x||a)}):e.jsx(g,{fontSize:"sm",color:"gray.500",textAlign:"center",py:4,children:"No related videos available"})})})]})})})]})]}),e.jsx(J,{position:"fixed",bottom:"20px",right:"20px",zIndex:100,direction:"column",align:"flex-end"}),e.jsxs(qe,{isOpen:T,onClose:xe,size:"5xl",isCentered:!0,children:[e.jsx(Fe,{}),e.jsxs(Ye,{bg:"transparent",boxShadow:"none",children:[e.jsx(Ke,{bg:"white",color:"black",zIndex:"1500",_hover:{bg:"#F49040",color:"white"}}),e.jsx(Pe,{p:0,children:e.jsx(p,{w:"100%",h:"0",pb:"56.25%",position:"relative",borderRadius:"xl",overflow:"hidden",bg:"black",children:ve&&e.jsx("iframe",{src:Mo(ve),title:"Video Player",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})]})]}),e.jsxs(qe,{isOpen:No,onClose:Ho,size:"full",motionPreset:"scale",children:[e.jsx(Fe,{}),e.jsxs(Ye,{bg:"rgba(0, 0, 0, 0.97)",height:"100vh",children:[e.jsx(Ke,{bg:"black",color:"white",zIndex:"1500",size:"lg",_hover:{bg:"#F49040",color:"white"}}),e.jsx(Pe,{p:0,display:"flex",alignItems:"center",justifyContent:"center",children:e.jsx(p,{width:"100%",height:"100vh",position:"relative",children:e.jsx("iframe",{src:K,title:`${(xo=t[0])==null?void 0:xo.title} - Full Screen`,width:"100%",height:"100%",style:{border:"none",display:"block"},allow:"autoplay",allowFullScreen:!0})})})]})]}),e.jsx(Zo,{isOpen:E,leastDestructiveRef:le,onClose:ee,children:e.jsx(Fe,{children:e.jsxs(es,{children:[e.jsx(ko,{fontSize:"lg",fontWeight:"bold",children:"Delete Comment"}),e.jsx(Pe,{children:"Are you sure you want to delete this comment? This action cannot be undone and will also delete all replies to this comment."}),e.jsxs(os,{children:[e.jsx(A,{ref:le,onClick:ee,children:"Cancel"}),e.jsx(A,{colorScheme:"red",onClick:u,ml:3,children:"Delete"})]})]})})})]})}function dt(){var r,n,c,h,f,F,b,w,y,m;const s=ss(),{allLessons:t}=_o(),i=t;return e.jsx(us,{children:e.jsxs(p,{style:{width:"100vw",minHeight:"100vh"},children:[e.jsxs(p,{maxW:{base:"75%",md:"85%"},width:"952px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:{base:"12px",sm:"16px",md:"18px"},mx:"auto",children:[e.jsx(p,{bg:"#FFFFFF",width:"fit-content",borderRadius:"50%",color:"#1F6A75",cursor:"pointer",onClick:()=>s("/dashboard/course-details"),padding:{base:"8px",sm:"12px",md:"16px"},fontSize:{base:"16",sm:"18px",md:"24px"},border:"none",_hover:{transition:"color 0.3s ease",border:"1px solid #F49040",color:"#F49040",dropShadow:"0px 4px 24px #F4904075"},_focus:{outline:"none",boxShadow:"none"},children:e.jsx(ps,{})}),e.jsxs(p,{px:{base:4,md:6},py:{base:"64px",md:"86px"},textAlign:"center",color:"white",children:[e.jsx(ts,{fontSize:{base:"32px",md:"42px"},fontFamily:"Poppins",fontWeight:"600",children:i&&((r=i[0])!=null&&r.title)?i[0].title.toUpperCase():"LESSON TITLE"}),e.jsxs(g,{mt:{base:"2px",md:"4px"},fontSize:{base:"18px",md:"24px"},fontFamily:"Poppins",fontWeight:"200",children:["Class: ",i&&((f=(h=(c=(n=i[0])==null?void 0:n.Chapter)==null?void 0:c.Subject)==null?void 0:h.Subcategory)==null?void 0:f.name)||"Class"," / Subject: ",i&&((w=(b=(F=i[0])==null?void 0:F.Chapter)==null?void 0:b.Subject)==null?void 0:w.name)||"Subject"," / Chapter: ",i&&((m=(y=i[0])==null?void 0:y.Chapter)==null?void 0:m.title)||"Chapter"]})]})]}),e.jsx(p,{backgroundColor:"rgba(255, 255, 255, 1)",margin:"auto",padding:"20px",height:"100vh",borderTopLeftRadius:"64px",borderTopRightRadius:"64px",width:"100%",children:e.jsx(Js,{lesson:i})})]})})}export{dt as default};
