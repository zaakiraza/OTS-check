import{j as e,e as y,F as C,B as c,H as w,T as n,h as B,W as _,R as N,U as R,r as l,v as T,g as u}from"./index-BK1bU2bz.js";import{u as p}from"./use-breakpoint-value-B2193brR.js";import{I as U}from"./icon-button-DbwiCQAJ.js";import{c as A}from"./create-icon-BhOBrdvq.js";import{S as L}from"./simple-grid-Crx4pWNE.js";import{B as M}from"./BOX-CozHWWeK.js";const O=A({displayName:"EditIcon",path:e.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),G="/assets/dashboardtitle.svg";function J(){const r=y(),t=JSON.parse(localStorage.getItem("userInfo")),a={userName:(t==null?void 0:t.firstName)||(t==null?void 0:t.email.split("@")[0])||"User",courseCompletion:(t==null?void 0:t.courseCompletion)||"0%"},d=()=>{r("/dashboard/profile")},x=p({base:"24px",sm:"28px",md:"36px"}),o=p({base:"14px",sm:"16px",md:"20px"});return e.jsxs(C,{mt:{base:"36px",sm:"48px",md:"64px"},maxW:{base:"75%",md:"85%"},width:"952px",mx:"auto",display:"flex",flexDirection:{base:"column",md:"row"},p:{base:"24px",sm:"36px",md:"48px"},gap:{base:"12px",sm:"18px",md:"24px"},borderRadius:"24px",align:"center",justify:"space-between",bg:"transparent",fontFamily:"'Poppins', sans-serif",flexWrap:"wrap",boxShadow:"2xl",bgGradient:"linear(to-br, rgba(0, 82, 89, 1) 0%, rgba(255, 255, 255, 0.71) 100%)",border:"1px solid #FFFFFF35",backdropFilter:"blur(24px)",children:[e.jsxs(c,{flex:"1",textAlign:{base:"center",md:"left"},mr:{base:0,md:"36px"},children:[e.jsxs(w,{as:"h1",fontSize:x,color:"#f49040",gap:0,fontWeight:"700",mb:{base:3,md:4},display:"flex",alignItems:"end",children:["Welcome Back ",a.firstName||a.userName,"!",e.jsx(U,{"aria-label":"Edit profile",icon:e.jsx(O,{}),size:"sm",variant:"ghost",colorScheme:"#da8139",ml:2,onClick:d,_hover:{bg:"rgba(244, 144, 64, 0.2)"}})]}),e.jsxs(n,{fontSize:o,lineHeight:"1.4",color:"white",fontWeight:"300",mb:{base:3,md:0},children:["Youâ€™ve learned"," ",e.jsx(n,{as:"span",fontWeight:"600",children:a.courseCompletion})," ","of your goal this week!"," ",e.jsx(n,{as:"span",fontWeight:"600",children:"Keep"})," ","it up and improve your results!"]})]}),e.jsx(c,{flex:"1",minW:{base:"100%",md:"50%"},display:"flex",justifyContent:"center",alignItems:"center",children:e.jsx(B,{src:G,alt:"Dashboard Title",maxW:{base:"80%",md:"400px"},objectFit:"contain"})})]})}function K(){var S;const r=y();_();const{allSubjects:t,setLoading:a,setError:d,getAllSubjects:x,page:o,setPage:b,limit:m,totalSubjects:W}=N(),{fetchChapterCount:F,getAllChapters:I}=R(),[v,D]=l.useState({}),{studentEnrollmentData:z}=T(),k=async s=>{try{a(!0),localStorage.setItem("subjectId",s),await I(s,1,10),r("/dashboard/course-details"),a(!1)}catch(i){console.error("Error loading chapters:",i),a(!1)}},E=(S=z[0])==null?void 0:S.subcategoryId;localStorage.getItem("subcategoryId")||localStorage.setItem("subcategoryId",E);const f=localStorage.getItem("subcategoryId");l.useEffect(()=>{f&&(a(!0),x(f,o,m).then(()=>a(!1)).catch(s=>{d(s.message||"Something went wrong"),a(!1)}))},[f,o,m]),l.useEffect(()=>{async function s(){const i={};for(const j of t)i[j.id]=await F(j.id);D(i)}t.length>0&&s()},[t,F]);const P=t,H=p({base:"24px",sm:"30px",lg:"38px"}),h=p({base:"12px",sm:"14px",md:"16px",lg:"20px"}),g=Math.ceil(W/m);return e.jsxs(c,{mt:{base:"18px",sm:"24px",md:"36px"},maxW:{base:"75%",md:"85%"},width:"952px",mx:"auto",bg:"transparent",fontFamily:"'Poppins', sans-serif",children:[e.jsx(L,{columns:{base:1,md:2},spacing:6,children:P.map(s=>e.jsxs(c,{border:"1px solid #ffffffff",w:"100%",display:"flex",flexDirection:"column",p:{base:"24px",sm:"36px",md:"48px"},gap:{base:"12px",sm:"16px",md:"20px"},borderRadius:"24px",justify:"space-between",boxShadow:"2xl",backdropFilter:"blur(24px)",bgGradient:"linear(to-br, rgba(255, 255, 255, 0.35) 0%, rgba(255, 255, 255, 0.1) 100%)",children:[e.jsxs(n,{fontSize:h,color:"#FFFFFF",fontWeight:400,lineHeight:"100%",letterSpacing:"1%",fontFamily:"Poppins",children:["Total Chapters ",v[s.id]??"Loading..."]}),e.jsx(w,{fontSize:H,color:"#FFFFFF",fontWeight:700,lineHeight:"100%",letterSpacing:"1%",fontFamily:"Poppins",children:s.name.toUpperCase()}),e.jsx(n,{fontSize:h,color:"#FFFFFF",fontWeight:400,lineHeight:"100%",letterSpacing:"1%",fontFamily:"Poppins",children:s.teacher}),e.jsx(n,{fontSize:h,color:"#FFFFFF",fontWeight:400,lineHeight:"100%",letterSpacing:"1%",fontFamily:"Poppins",children:s.description}),e.jsx(u,{onClick:()=>k(s.id),mt:3,alignSelf:"start",lineHeight:"28px",letterSpacing:"-1.1%",fontFamily:"Poppins",py:3,px:{base:"16px",sm:"24px",md:"32px"},fontWeight:"light",cursor:"pointer",transition:"all 0.3s ease",bg:"#F49040",color:"white",borderRadius:"30px",h:{base:"32px",sm:"38px",md:"42px"},fontSize:{base:"12px",sm:"14px",md:"16px"},_hover:{border:"2px solid #F49040",color:"#F49040",bg:"none",boxShadow:"0px 2px 5px #F49040"},_focus:{outline:"none",boxShadow:"none"},children:"Continue"})]},s.id))}),e.jsxs(C,{width:"100%",justify:"center",align:"center",mt:8,mb:4,children:[e.jsx(u,{onClick:()=>b(o-1),isDisabled:o===1,mr:2,borderRadius:"full",colorScheme:"orange",variant:"outline",children:"Previous"}),e.jsxs(n,{mx:2,color:"#fff",fontWeight:"bold",children:["Page ",o," of ",g]}),e.jsx(u,{onClick:()=>b(o+1),isDisabled:o===g||g===0,ml:2,borderRadius:"full",colorScheme:"orange",variant:"outline",children:"Next"})]})]})}function V({setIsSidebarOpen:r}){return l.useEffect(()=>{r(!1)},[]),e.jsxs(M,{children:[e.jsx(J,{}),e.jsx(K,{})]})}const ee=Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"}));export{K as D,V as U,ee as a};
