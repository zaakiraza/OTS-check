import{w as P,ag as W,e as j,R as z,U as v,j as e,B as h,V as I,T as u,F as w,H as T,h as _,g as d,v as E}from"./index-BK1bU2bz.js";import{B as R}from"./BOX-CozHWWeK.js";import{G as A}from"./grid-Cvme4LAG.js";function B({subcategoryId:l}){const s=j(),{studentEnrollments:c,setLoading:o,loading:i}=E(),r=localStorage.getItem("userInfo"),a=r?JSON.parse(r):null,t=localStorage.getItem("userToken"),x=async()=>{o(!0);try{if(!a||!t){o(!1),alert("Please log in to enroll in a subject."),s("/login");return}if(!l){o(!1),alert("No subject selected for enrollment."),s("/dashboard");return}const p=a==null?void 0:a.id,m=await c({studentId:p,userToken:t,subcategoryId:l});m.success===!1?(o(!1),alert(m.message||"An error occurred. Please try again."),s("/dashboard")):(o(!1),alert("Enrollment successful!"),s("/dashboard"))}catch{o(!1),alert("An error occurred during enrollment"),s("/dashboard")}};return e.jsx(d,{mb:{base:"64px",sm:"86px",md:"136px"},transition:"all 0.2s ease-in-out",px:4,py:3,fontWeight:"light",cursor:"pointer",width:{base:"90%",md:"50%"},bg:"#F49040",color:"white",borderRadius:"30px",h:{base:"48px",sm:"54px",md:"64px"},fontSize:{base:"14px",sm:"16px",md:"18px"},_hover:{border:"2px solid #F49040",color:"#F49040",bg:"none",boxShadow:"0px 2px 5px #F49040"},_focus:{outline:"none",boxShadow:"none"},onClick:x,isLoading:i,loadingText:"Enrolling...",disabled:i,children:"Enroll Now"})}function N(){var F;const{userLoginToken:l}=P(),s=l||localStorage.getItem("userToken"),c=!s,{className:o}=W(),i=j(),r=o==null?void 0:o.replace(/-/g," ").toUpperCase(),{allSubjects:a,page:t,setPage:x,limit:p,setLimit:m,totalSubjects:y}=z(),{setLoading:f,getAllChapters:C}=v(),b=a;console.log("Subjects in SubjectSelectionPage:",b);const k=async n=>{try{f(!0),await C(n),f(!1)}catch{}i(s?`/dashboard/category/digitalschool-classes/subjects/${r}/subject-details`:`/explore/category/digitalschool/subjects/${r}/${n}/subject-details`)},g=Math.ceil(y/p);return e.jsx(R,{children:e.jsx(h,{mt:c?{base:"120px",sm:"130px",md:"140px"}:{base:"20px",sm:"24px",md:"28px"},maxW:{base:"75%",md:"85%"},width:"952px",mx:"auto",fontFamily:"Poppins",minHeight:"100vh",display:"flex",flexDirection:"column",children:e.jsxs(I,{spacing:{base:"18px",sm:"24px",md:"36px"},children:[e.jsx(h,{width:"95%",paddingY:"12px",height:"auto",borderRadius:"24px",background:"linear-gradient(90deg, #F4904035 0.35%, #F4904080 100%)",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid",borderColor:"#F49040",boxShadow:"2xl",backdropFilter:"blur(24px)",children:e.jsxs(u,{fontWeight:"semibold",fontSize:{base:"18px",sm:"24px",md:"36px"},color:"white",fontFamily:"Poppins",textTransform:"capitalize",textAlign:"center",children:["Select Subject"," ",r?`(${r})`:""]})}),e.jsxs(w,{gap:{base:"18px",sm:"24px",md:"36px"},flexDirection:{base:"column",sm:"row"},flexWrap:"wrap",maxW:"952px",width:"90%",justify:"center",align:"center",children:[e.jsx(A,{templateColumns:{base:"1fr",md:"1fr 1fr"},gap:{base:"18px",sm:"24px",md:"36px"},width:"100%",children:b.map((n,S)=>e.jsxs(h,{textAlign:"center",margin:"auto",display:"flex",bgGradient:"linear(to-br, rgba(0, 82, 89, 1) 0%, rgba(255, 255, 255, 0.45) 100%)",flexDirection:"column",alignItems:"center",p:{base:"24px",sm:"36px",md:"48px"},borderRadius:"24px",border:"1px solid",borderColor:"#ffffffff",boxShadow:"lg",backdropFilter:"blur(60px)",boxSize:"100%",w:"full",children:[e.jsx(T,{lineHeight:"24px",letterSpacing:"1%",mb:{base:"16px",sm:"18px",md:"24px"},fontSize:{base:"20px",sm:"24px",md:"28px"},fontFamily:"Poppins",fontWeight:"semibold",color:"#F49040",textTransform:"uppercase",children:n.name}),e.jsx(_,{src:n.imageUrl,alt:n.imageAlt,objectFit:"contain",mb:{base:"16px",sm:"18px",md:"24px"},boxSize:"300px",width:"280px"}),e.jsx(u,{mb:{base:"16px",sm:"18px",md:"24px"},fontSize:{base:"14px",sm:"16px",md:"18px"},fontFamily:"Poppins",fontWeight:"light",lineHeight:"100%",letterSpacing:"1%",color:"#ffffff",children:n.description}),e.jsx(d,{px:4,py:3,fontWeight:"light",cursor:"pointer",transition:"all 0.3s ease",width:{base:"136px",sm:"220px",md:"186px"},bg:"#F49040",color:"white",borderRadius:"30px",h:{base:"32px",sm:"38px",md:"42px"},fontSize:{base:"12px",sm:"14px",md:"16px"},_hover:{border:"2px solid #F49040",color:"#F49040",bg:"none",boxShadow:"0px 2px 5px #F49040"},_focus:{outline:"none",boxShadow:"none"},onClick:()=>k(n.id),children:"See Detail"})]},S))}),e.jsxs(w,{width:"100%",justify:"center",align:"center",children:[e.jsx(d,{onClick:()=>x(t-1),isDisabled:t===1,mr:{base:"4px",sm:"8px",md:"12px"},px:4,py:3,fontWeight:"light",cursor:"pointer",transition:"all 0.3s ease",width:{base:"136px",sm:"220px",md:"186px"},border:"2px solid #F49040",bg:"none",color:"#F49040",borderRadius:"30px",h:{base:"36px",sm:"42px",md:"54px"},fontSize:{base:"12px",sm:"14px",md:"16px"},_hover:{border:"none",color:"white",bg:"#F49040",boxShadow:"0px 2px 5px #F49040"},_disabled:{bg:"none",color:"#FFFFFF50",border:"2px solid #FFFFFF50",boxShadow:"none",cursor:"not-allowed"},_focus:{outline:"none",boxShadow:"none"},children:"Previous"}),e.jsxs(u,{mx:{base:"4px",sm:"8px",md:"12px"},textAlign:"center",color:"#FFFFFF",fontWeight:"light",fontSize:{base:"12px",sm:"14px",md:"16px"},children:["Page ",t," of ",g]}),e.jsx(d,{onClick:()=>x(t+1),isDisabled:t===g||g===0,ml:{base:"4px",sm:"8px",md:"12px"},px:4,py:3,fontWeight:"light",cursor:"pointer",transition:"all 0.3s ease",width:{base:"136px",sm:"220px",md:"186px"},border:"2px solid #F49040",bg:"none",color:"#F49040",borderRadius:"30px",h:{base:"36px",sm:"42px",md:"54px"},fontSize:{base:"12px",sm:"14px",md:"16px"},_hover:{border:"none",color:"white",bg:"#F49040",boxShadow:"0px 2px 5px #F49040"},_disabled:{bg:"none",color:"#FFFFFF50",border:"2px solid #FFFFFF50",boxShadow:"none",cursor:"not-allowed"},_focus:{outline:"none",boxShadow:"none"},children:"Next"})]})]}),e.jsx(B,{subcategoryId:(F=b[0])==null?void 0:F.subcategoryId})]})})})}export{N as default};
