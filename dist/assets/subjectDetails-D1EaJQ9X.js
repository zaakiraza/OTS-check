import{r as v,a as Z,ah as ee,k as se,f as re,ai as ae,o as ie,aj as le,c as de,j as e,w as xe,i as ce,v as J,q as pe,U as me,ak as ue,e as be,B as o,V as T,T as t,F as Q,h as k,H as he,S as ge,g as c,M as fe,l as Fe,n as je,O as Se,P as we}from"./index-BK1bU2bz.js";import{e as Ce,f as ye}from"./index-DliBmw5E.js";import{g as ke,j as De,k as ve}from"./index-Dc0t5EWh.js";import{B as Ae}from"./BOX-CozHWWeK.js";import{u as Ie}from"./use-breakpoint-value-B2193brR.js";import{S as _e}from"./simple-grid-Crx4pWNE.js";import{H as D}from"./h-stack-Bagx0LFm.js";import"./grid-Cvme4LAG.js";function Re(n){const a=v.useRef();return v.useEffect(()=>{a.current=n},[n]),a.current}function Pe(){const n=v.useRef(!0);return v.useEffect(()=>{n.current=!1},[]),n.current}const ze=Z("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),L=ee("skeleton-start-color"),M=ee("skeleton-end-color"),Ee=se({from:{opacity:0},to:{opacity:1}}),Te=se({from:{borderColor:L.reference,background:L.reference},to:{borderColor:M.reference,background:M.reference}}),oe=re((n,a)=>{const p={...n,fadeDuration:typeof n.fadeDuration=="number"?n.fadeDuration:.4,speed:typeof n.speed=="number"?n.speed:.8},m=ae("Skeleton",p),u=Pe(),{startColor:d="",endColor:A="",isLoaded:b,fadeDuration:h,speed:i,className:g,fitContent:I,animation:W,...f}=ie(p),[r,F]=le("colors",[d,A]),j=Re(b),S=de("chakra-skeleton",g),w={...r&&{[L.variable]:r},...F&&{[M.variable]:F}};if(b){const _=u||j?"none":`${Ee} ${h}s`;return e.jsx(Z.div,{ref:a,className:S,__css:{animation:_},...f})}return e.jsx(ze,{ref:a,className:S,...f,__css:{width:I?"fit-content":void 0,...m,...w,_dark:{...m._dark,...w},animation:W||`${i}s linear infinite alternate ${Te}`}})});oe.displayName="Skeleton";const Le="/assets/Star.svg",Me="/assets/Dollaricon.svg",We="/assets/clock.svg",qe=()=>{var N,O,V,H,G,$,U,q,Y,K,X;const{userLoginToken:n}=xe(),a=n||localStorage.getItem("userToken"),p=!a,{isOpen:m,onOpen:u,onClose:d}=ce(),{studentEnrollments:A}=J(),b=pe();Ie({base:!0,md:!1});const{allChapters:h,page:i,setPage:g,limit:I,setLimit:W,totalChapters:f}=me();ue();const r=h,F=(N=r[0])==null?void 0:N.subjectId;localStorage.setItem("subjectId",F);const j=(V=(O=r[0])==null?void 0:O.Subject)==null?void 0:V.name,S=($=(G=(H=r[0])==null?void 0:H.Subject)==null?void 0:G.SubCategory)==null?void 0:$.name,w=((K=(Y=(q=(U=r[0])==null?void 0:U.Subject)==null?void 0:q.SubCategory)==null?void 0:Y.Category)==null?void 0:K.name)==="Digital School",_=(X=r[0])==null?void 0:X.createdAt,te=new Date(_).toLocaleString(),C=localStorage.getItem("userToken"),x=be(),{studentEnrollmentData:R}=J(),B=R&&typeof R=="object"&&Object.keys(R).length>0,ne=async s=>{if(s&&localStorage.setItem("chapterId",s),!C){b({title:"Error",description:"Please Login to view details",status:"error",duration:1e3,isClosable:!0}),setTimeout(()=>{x("/login")},1e3);return}if(C&&!B){u();return}if(C&&B){u();return}},P=Math.ceil(f/I);return e.jsx(Ae,{children:e.jsxs(o,{mt:p?{base:"120px",sm:"130px",md:"140px"}:{base:"20px",sm:"24px",md:"28px"},mb:{base:"64px",sm:"86px",md:"136px"},maxW:{base:"75%",md:"85%"},width:"952px",mx:"auto",children:[e.jsxs(T,{spacing:{base:"18px",sm:"24px",md:"36px"},align:"stretch",alignItems:"center",children:[e.jsxs(o,{width:"95%",paddingY:"12px",height:"auto",borderRadius:"24px",background:"linear-gradient(90deg, #F4904035 0.35%, #F4904080 100%)",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid",borderColor:"#F49040",boxShadow:"2xl",backdropFilter:"blur(24px)",gap:{base:"12px",sm:"16px",md:"24px"},children:[e.jsx(o,{bg:"none",width:"fit-content",color:"#FFFFFF",cursor:"pointer",fontSize:{base:"24px",sm:"28px",md:"36px"},border:"none",_focus:{outline:"none",boxShadow:"none"},onClick:()=>x(-1),children:e.jsx(ke,{})}),e.jsx(t,{fontWeight:"semibold",fontSize:{base:"18px",sm:"24px",md:"36px"},color:"white",fontFamily:"Poppins",textTransform:"capitalize",textAlign:"center",children:"Subject Details"})]}),e.jsxs(o,{maxW:"952px",width:"90%",children:[e.jsx(t,{fontFamily:"Poppins",fontWeight:"600",fontSize:{base:"20px",md:"24px",lg:"32px"},lineHeight:"100%",letterSpacing:"1%",textTransform:"uppercase",color:"#ffffff",mb:3,children:j}),e.jsxs(t,{fontFamily:"Poppins",fontWeight:"200",fontSize:{base:"12px",md:"14px",lg:"16px"},lineHeight:"100%",letterSpacing:"1%",color:"#ffffff",children:["Master the Art of Learning ",S," ",j," for the Board Exam..."]})]}),e.jsx(o,{width:"90%",children:e.jsxs(Q,{flexDirection:{base:"column",sm:"row"},alignItems:"flex-start",gap:{base:"12px",sm:"8px"},justifyContent:"start",children:[e.jsxs(o,{height:"40px",width:"auto",padding:4,borderRadius:"8px",backgroundColor:"#FFFFFF",display:"flex",alignItems:"center",children:[e.jsx(k,{src:Le,alt:"star",width:{base:"18px",sm:"20px",md:"24px"}}),e.jsx(t,{ml:"8px",color:"#1F6A75",fontFamily:"Poppins",fontSize:{base:"12px",md:"14px",lg:"16px"},children:"4.0"})]}),e.jsxs(o,{height:"40px",width:"auto",padding:4,borderRadius:"8px",backgroundColor:"#FFFFFF",display:"flex",alignItems:"center",children:[e.jsx(k,{src:Me,alt:"Dollar",width:{base:"18px",sm:"20px",md:"24px"}}),e.jsx(t,{ml:"8px",color:"#1F6A75",fontFamily:"Poppins",fontSize:{base:"12px",md:"14px",lg:"16px"},children:"Free"})]}),e.jsxs(o,{height:"40px",width:"auto",padding:4,borderRadius:"8px",backgroundColor:"#FFFFFF",display:"flex",alignItems:"center",children:[e.jsx(k,{src:We,alt:"Calendar",width:{base:"18px",sm:"20px",md:"24px"}}),e.jsx(t,{ml:"8px",fontFamily:"Poppins",fontSize:{base:"12px",md:"14px",lg:"16px"},color:"#1F6A75",children:te})]})]})}),e.jsx(o,{width:"90%",children:e.jsx(t,{fontFamily:"Poppins",fontSize:{base:"20px",md:"28px"},fontWeight:"500",color:"#ffffff",textAlign:"left",children:w?"Chapters":"Courses"})}),e.jsx(_e,{width:"92%",columns:{base:1,md:2},spacing:{base:"18px",sm:"24px",md:"36px"},children:r.map(s=>{const y=Math.floor(Math.random()*6);return e.jsxs(o,{bg:"white",borderRadius:"12px",boxShadow:"xl",border:"1px solid #CED4D3",p:{base:"12px",sm:"16px",md:"18px"},children:[e.jsx(oe,{isLoaded:!!s.imageUrl,position:"relative",overflow:"hidden",borderRadius:"8px",border:"1px solid #CED4D3",height:{base:"180px",sm:"200px",md:"220px"},width:"100%",children:e.jsx(k,{src:s.imageUrl,alt:s.title,objectFit:"cover",w:"100%",h:"100%",transition:"all 0.3s ease",_hover:{transform:"scale(1.2)"},mx:"auto"})}),e.jsx(o,{width:"95%",mx:"auto",my:{base:"8px",sm:"12px",md:"8px",lg:"12px"},children:e.jsxs(T,{alignItems:"baseline",spacing:{base:"4px",sm:"8px",md:"4px",lg:"8px"},children:[e.jsxs(D,{spacing:{base:"6px",sm:"8px"},align:"center",fontSize:{base:"12px",sm:"16px"},color:"#A2ABAA",children:[e.jsx(D,{spacing:{base:"2px",sm:"4px"},children:Array(5).fill("").map((z,l)=>e.jsx(o,{children:l<y?e.jsx(o,{size:{base:"12px",sm:"18px"},children:e.jsx(Ce,{color:"#F49040"})}):e.jsx(o,{size:{base:"12px",sm:"18px"},children:e.jsx(ye,{color:"#A2ABAA"})})},l))}),e.jsx(t,{color:"#0D0D0D",fontWeight:"medium",children:s.rating||"0"}),e.jsxs(t,{children:["(",s.reviewCount||"0",")"]})]}),e.jsx(he,{fontSize:{base:"18px",sm:"24px",md:"18px",lg:"24px"},noOfLines:2,children:s.title}),e.jsxs(ge,{direction:"row",fontSize:{base:"14px",sm:"18px",md:"14px",lg:"18px"},color:"#A2ABAA",spacing:3,children:[e.jsxs(D,{spacing:2,children:[e.jsx(De,{color:"#F49040"}),e.jsxs(t,{children:[s.lessonCount||1," Lessons"]})]}),e.jsxs(D,{spacing:2,children:[e.jsx(ve,{color:"#F49040"}),e.jsxs(t,{children:[" ",s.studentCount||0," Students"]})]})]}),e.jsx(t,{fontSize:{base:"14px",sm:"18px"},fontWeight:"bold",color:"#1F6A75",children:s.price||"free"}),e.jsx(c,{px:4,py:3,fontWeight:"light",cursor:"pointer",transition:"all 0.3s ease",width:"full",bg:"none",color:"#F49040",borderRadius:"30px",border:"1px solid #F49040",h:{base:"32px",sm:"42px",md:"32px",lg:"42px"},fontSize:{base:"12px",sm:"16px",md:"12px",lg:"16px"},_hover:{border:"2px solid #F49040",color:"#FFFFFF",bg:"#F49040"},_focus:{outline:"none",ring:2,ringColor:"#F49040"},onClick:()=>ne(s.id),children:"View Details"})]})})]},s.id)})}),e.jsxs(Q,{width:"100%",justify:"center",align:"center",children:[e.jsx(c,{onClick:()=>g(i-1),isDisabled:i===1,mr:{base:"4px",sm:"8px",md:"12px"},px:4,py:3,fontWeight:"light",cursor:"pointer",transition:"all 0.3s ease",width:{base:"136px",sm:"220px",md:"186px"},border:"2px solid #F49040",bg:"none",color:"#F49040",borderRadius:"30px",h:{base:"36px",sm:"42px",md:"54px"},fontSize:{base:"12px",sm:"14px",md:"16px"},_hover:{border:"none",color:"white",bg:"#F49040",boxShadow:"0px 2px 5px #F49040"},_disabled:{bg:"none",color:"#FFFFFF50",border:"2px solid #FFFFFF50",boxShadow:"none",cursor:"not-allowed"},_focus:{outline:"none",boxShadow:"none"},children:"Previous"}),e.jsxs(t,{mx:{base:"4px",sm:"8px",md:"12px"},textAlign:"center",color:"#FFFFFF",fontWeight:"light",fontSize:{base:"12px",sm:"14px",md:"16px"},children:["Page ",i," of ",P]}),e.jsx(c,{onClick:()=>g(i+1),isDisabled:i===P||P===0,ml:{base:"4px",sm:"8px",md:"12px"},px:4,py:3,fontWeight:"light",cursor:"pointer",transition:"all 0.3s ease",width:{base:"136px",sm:"220px",md:"186px"},border:"2px solid #F49040",bg:"none",color:"#F49040",borderRadius:"30px",h:{base:"36px",sm:"42px",md:"54px"},fontSize:{base:"12px",sm:"14px",md:"16px"},_hover:{border:"none",color:"white",bg:"#F49040",boxShadow:"0px 2px 5px #F49040"},_disabled:{bg:"none",color:"#FFFFFF50",border:"2px solid #FFFFFF50",boxShadow:"none",cursor:"not-allowed"},_focus:{outline:"none",boxShadow:"none"},children:"Next"})]})]}),e.jsxs(fe,{isOpen:m,onClose:d,isCentered:!0,children:[e.jsx(Fe,{bg:"blackAlpha.300",backdropFilter:"blur(10px)"}),e.jsxs(je,{children:[e.jsx(Se,{bg:"#F49040",color:"white",borderTopRadius:"md",children:"Enrollment Required"}),e.jsx(we,{py:6,children:e.jsxs(T,{spacing:4,children:[e.jsx(t,{children:"You need to enroll in this course to access its content."}),e.jsx(c,{w:"full",colorScheme:"orange",bg:"#F49040",onClick:async()=>{var s,y,z;try{const l=(z=(y=(s=h[0])==null?void 0:s.Subject)==null?void 0:y.SubCategory)==null?void 0:z.id,E=await A({studentId:localStorage.getItem("userId"),userToken:C,subcategoryId:l});E.success===!0?(d(),alert(E.message||" Enrollment successful"),x("/dashboard")):(alert(E.message||"Enrollment failed"),a&&x("/dashboard/category/digitalschool-classes"))}catch(l){console.error("Enrollment error:",l),alert("Failed to enroll. Please try again.")}},children:"Enroll Now"}),e.jsx(c,{w:"full",variant:"outline",onClick:()=>{d(),x(-1)},children:"Go Back"})]})})]})]})]})})};export{qe as default};
